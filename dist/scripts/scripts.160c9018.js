angular.module("dockerEasyUiApp",["overview","container","image","rest","table","dialog","form","toastr","tooltip","ngRoute","ngTouch","ngAnimate","ngResource","ngCookies"]),angular.module("dockerEasyUiApp").config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!1);a.when("/",{redirectTo:"/overview"}).otherwise("/overview")}]),angular.module("dockerEasyUiApp").config(["$httpProvider",function(a){a.defaults.headers.common={"Content-Type":"application/json"}}]),angular.module("dockerEasyUiApp").controller("homeController",["$scope","$injector",function(a,b){a.$on("$routeChangeSuccess",function(b,c){var d=c.$$route.originalPath,e=d.split("/");e.length>=2&&(a.selectedNav=e[1])})}]),angular.module("overview",["ngRoute","rest"]),angular.module("overview").config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!1);var c="Docker easy UI";a.when("/overview",{title:c,templateUrl:"overview/templates/overview.html",controller:"overviewController"})}]),angular.module("overview").controller("overviewController",["$scope","$injector",function(a,b){var c=b.get("infoService");c.show().success(function(b){a.info=b})}]),angular.module("container",["ngRoute"]),angular.module("container").config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!1);var c="Docker easy UI";a.when("/container",{title:c,templateUrl:"container/templates/container.html",controller:"containerController"}).when("/container/:id",{title:c,templateUrl:"container/templates/detail.html",controller:"containerDetailController"}).when("/container/:id/console",{title:c,templateUrl:"container/templates/console.html",controller:"containerConsoleController"})}]),angular.module("container").directive("containerConsole",function(){return{restrict:"E",replace:!0,scope:{consoleData:"="},template:"<div></div>",controller:["$scope","$element",function(a,b){a.$watch("consoleData",function(a){if(a){var c=b[0],d=new Terminal,e="> ",f="ws://"+a.host+":"+a.port+"/containers/"+a.id+"/attach/ws?logs="+a.logs+"&stream="+a.stream+"&stdin="+a.stdin+"&stdout="+a.stdout+"&stderr="+a.stderr,g=new WebSocket(f);d.open(c),d.fit(),d.prompt=function(){d.write("\r\n"+e)},d.writeln("Welcome to Docker Easy UI"),d.writeln(""),d.prompt(),d.on("data",function(a){g.send(a)}),g.onmessage=function(a){d.write(a.data)}}})}]}}),angular.module("container").controller("containerController",["$scope","$injector",function(a,b){var c=b.get("containerService"),d=b.get("$dialog"),e=b.get("$route"),f=b.get("$location"),g=b.get("toastr");a.containerTableData={checkboxHeader:!1,singleSelect:!0,columns:[{field:"isSelected",checkbox:!0},{field:"Id",title:"ID",visible:!1},{field:"NamesLink",title:"Name",align:"left",valign:"middle",sortable:!0},{field:"Image",title:"Image",align:"left",valign:"middle",sortable:!0},{field:"Port",title:"Port",align:"left",valign:"middle",sortable:!0},{field:"Command",title:"Command",align:"left",valign:"middle"},{field:"Created",title:"Created",align:"left",valign:"middle",sortable:!0},{field:"Status",title:"Status",align:"left",valign:"middle"}],data:[]},c.index({all:1}).success(function(b){angular.forEach(b,function(a,c){b[c].Ports=b[c].Ports||[],b[c].Port="";for(var d in b[c].Ports){var e=b[c].Ports[d];b[c].Port+=e.IP+":"+e.PublicPort+"("+e.PrivatePort+"/"+e.Type+") "}var f=b[c].Status||"";f=f.toLowerCase(),-1!=f.indexOf("up")?f.indexOf("paused")?b[c].state="pause":b[c].state="up":-1!=f.indexOf("dead")?b[c].state="dead":b[c].state="down",b[c].NamesLink="<a class='' href='#/container/"+b[c].Id+"'>"+b[c].Names+"</a>"}),a.containerTableData.data=b}).error(function(a,b){g.error("Failed to get container list as: "+a)}),a.CreateContainer=function(){d.open({templateUrl:"container/templates/create.html",controller:"containerCreateController"})},a.Action=function(b){if(a.selectedItem){var d=a.selectedItem;return"start"===b?void c.show({id:d.Id}).success(function(a){c.action(b,a.Id,a.HostConfig).success(function(){e.reload(),g.success("Successfully start container "+a.Names)})}).error(function(a){g.error("Failed to get container detail as: "+a)}):void c.action(b,d.Id).success(function(){e.reload(),g.success("Successfully "+b+" container "+d.Names)}).error(function(a){g.error("Failed to "+b+" container as: "+a)})}},a.Del=function(b){if(a.selectedItem){var d=a.selectedItem;c.del(d.Id).success(function(){e.reload(),g.success("Successfully delete container "+d.Names)}).error(function(a){g.error("Failed to delete container as: "+a)})}},a.Console=function(){a.selectedItem&&f.path("/container/"+a.selectedItem.Id+"/console")}}]),angular.module("container").controller("containerDetailController",["$scope","$injector",function(a,b){var c=b.get("containerService"),d=b.get("$routeParams");c.show({id:d.id}).success(function(b){a.container=b})}]),angular.module("container").controller("containerCreateController",["$scope","$injector",function(a,b){var c=b.get("containerService"),d=b.get("imageService"),e=b.get("$route"),f=b.get("toastr");d.index().success(function(b){var d=[];angular.forEach(b,function(a,b){var c=a.RepoTags.join(", ");d.push({text:c,value:c})}),a.containerView={slug:"create_container",name:"Create Container",handle:function(b){var d={Hostname:b.advance.hostname,DomainName:b.advance.domainname,User:b.advance.user,AttachStdin:b.advance.attachStdin||!1,AttachStdout:b.advance.attachStdout||!1,AttachStderr:b.advance.attachStderr||!1,OpenStdin:b.advance.openStdin||!0,StdinOnce:b.advance.stdinOnce||!0,Tty:b.advance.tty||!1,Env:b.basic.env||null,Cmd:b.basic.cmd?b.basic.cmd.split(" "):[],Entrypoint:b.basic.entrypoint,Image:b.basic.image,Labels:JSON.parse("{"+(b.basic.labels||"")+"}"),Volumes:JSON.parse("{"+(b.volume.volumes||"")+"}"),WorkingDir:b.advance.workingDir,NetworkDisabled:b.network.networkDisabled||!1,MacAddress:b.network.macAddress,ExposedPorts:JSON.parse("{"+(b.network.exposedPorts||"")+"}"),HostConfig:{Memory:b.host.memory,MemorySwap:b.host.memorySwap,CpuShares:b.host.cpuShares,CpuPeriod:b.host.CpuPeriod,NetworkMode:b.host.networkMode,PortBindings:JSON.parse("{"+(b.basic.portBindings||"")+"}"),DNS:b.host.dns?b.host.dns.split(" "):[]}},g={name:b.basic.name};c.create(d,g).success(function(b){e.reload(!0),a.$close(),f.success("Successfully create a container")}).error(function(a){f.error("Failed to create container as: "+a)})},panelGroups:[{slug:"basic",name:"Basic info",fields:[{title:"Name for this container, please input characters a-z, 0-9, _, ., -. For example container_a1.",slug:"name",name:"Name",type:"text"},{title:"Image for this container, select an image from the image list.",slug:"image",name:"Image",type:"select","default":d},{title:"Entry point for this container when it start. For example /usr/bin/top -p 1234.",slug:"entrypoint",name:"Entrypoint",type:"text"},{title:'Labels for this container. For example "text.v1.com": "abc", "tex.v2.com": "abcd", JSON format.',slug:"labels",name:"Labels",type:"textarea"},{title:"Command for this container when it start. For example /bin/bash -l.",slug:"cmd",name:"CMD",type:"textarea"},{title:"Environment for this container when it start. For example RVM_HOME=/home/rvm JAVA_HOME=/usr/lib/jvm. Split with blank space",slug:"env",name:"Env",type:"textarea"},{title:'A map of exposed container ports and the host port they should map to. A JSON object in the form <port>/<protocol>: [{ "HostPort": "<port>" }] Take note that port is specified as a string and not an integer value.',slug:"portBindings",name:"PortBindings",type:"textarea"}]},{slug:"network",name:"Network info",fields:[{title:"Whether disable network for this container.",slug:"networkDisabled",name:"Disable Network",type:"checkbox","default":!1},{title:"MacAddress for this container. For example 46:8c:f8:f9:12:4d.",slug:"macAddress",name:"MacAddress",type:"text"},{title:'Exposed ports for this container. For example "8080/tcp": {}.',slug:"exposedPorts",name:"ExposedPorts",type:"textarea"}]},{slug:"volume",name:"Volume info",fields:[{title:'An object mapping mount point paths (strings) for the container. For example "/tmp": {}.',slug:"volumes",name:"Volumes",type:"textarea"}]},{slug:"host",name:"Host info",fields:[{title:"Memory limit in bytes. For example 1024, default is 0.",slug:"memory",name:"Memory",type:"number","default":0},{title:"Total memory limit (memory + swap); set -1 to disable swap You must use this with memory and make the swap value larger than memory.",slug:"memorySwap",name:"MemorySwap",type:"number","default":0},{title:"An integer value containing the containerâ€™s CPU Shares (ie. the relative weight vs other containers).",slug:"cpuShares",name:"CpuShares",type:"number","default":0},{title:"The length of a CPU period in microseconds.",slug:"cpuPeriod",name:"CpuPeriod",type:"number","default":0},{title:"Sets the networking mode for the container. Supported values are: bridge, host, and container:<name|id>.",slug:"networkMode",name:"NetworkMode",type:"text","default":"bridge"},{title:"A list of DNS servers for the container to use.",slug:"dns",name:"DNS",type:"textarea","default":"8.8.8.8, 114.114.114.114"}]},{slug:"advance",name:"Advance info",fields:[{title:"Attach standard streams to a tty, including stdin if it is not closed.",slug:"tty",name:"Tty",type:"checkbox","default":!0},{title:"A string value containing the hostname to use for the container.",slug:"hostname",name:"Hostname",type:"text"},{title:"A string value containing the domain name to use for the container.",slug:"domainname",name:"DomainName",type:"text"},{title:"A string value specifying the user inside the container",slug:"user",name:"User",type:"text"},{title:"A string specifying the working directory for commands to run in",slug:"workingDir",name:"WorkingDir",type:"text"}]}]}})}]),angular.module("container").controller("containerConsoleController",["$scope","$injector",function(a,b){var c=b.get("$routeParams"),d=b.get("containerService");b.get("toastr");d.console().success(function(b){a.containerConsole={host:b.host,port:b.port,id:c.id,logs:1,stdin:1,stdout:1,stderr:1,stream:1}}).error(function(){})}]),angular.module("image",["ngRoute","rest"]),angular.module("image").config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!1);var c="Docker easy UI";a.when("/image",{title:c,templateUrl:"image/templates/image.html",controller:"imageController"}).when("/image/:id",{title:c,templateUrl:"image/templates/detail.html",controller:"imageDetailController"})}]),angular.module("image").controller("imageController",["$scope","$injector",function(a,b){var c=b.get("imageService"),d=b.get("$dialog"),e=b.get("$route"),f=b.get("toastr");a.imageTableData={checkboxHeader:!1,singleSelect:!0,columns:[{field:"isSelected",checkbox:!0},{field:"Id",title:"ID",visible:!1},{field:"NamesLink",title:"Repostry Tags",align:"left",valign:"middle",sortable:!0},{field:"Size",title:"Size",align:"right",valign:"middle",sortable:!0},{field:"VirtualSize",title:"Virtual Size",align:"right",valign:"middle",sortable:!0},{field:"ParentId",title:"Parent",align:"left",valign:"middle"},{field:"Created",title:"Created",align:"left",valign:"middle",sortable:!0}],data:[]},c.index({all:0}).success(function(b){angular.forEach(b,function(a,c){b[c].NamesLink="<a class='' href='#/image/"+b[c].Id+"'>"+b[c].RepoTags+"</a>"}),a.imageTableData.data=b}),a.AddImage=function(){d.open({templateUrl:"image/templates/create.html",controller:"imageAddController"})},a.Del=function(b){if(a.selectedItem){var d=a.selectedItem;c.del(d.Id).success(function(){e.reload(),f.success("Successfully delete image "+d.RepoTags)})}}}]),angular.module("image").controller("imageDetailController",["$scope","$injector",function(a,b){var c=b.get("imageService"),d=b.get("$routeParams");c.show({id:d.id}).success(function(b){a.image=b})}]),angular.module("image").controller("imageAddController",["$scope","$injector",function(a,b){var c=(b.get("containerService"),b.get("imageService")),d=b.get("$route"),e=b.get("toastr"),f=b.get("$timeout");a.imageSearchTableData={data:[],search:!1,checkboxHeader:!1,height:400,sortName:"star_count",sortOrder:"desc",singleSelect:!0,columns:[{field:"state",checkbox:!0},{field:"name",title:"Name",sortable:!0},{field:"is_automated",title:"Automated"},{field:"is_trusted",title:"Trusted"},{field:"is_official",title:"Official"},{field:"star_count",title:"Stars",align:"right",sortable:!0},{field:"description",title:"Description"}]},a.searchVal="",a.tag="latest",a.forSearch=!1,a.titles={fromImage:"A string of image name to pull, click the search icon to search from dock hub.",tag:"A string of image tag name, default is latest."},a.Search=function(){return""===a.searchVal?void(a.imageSearchTableData.data=[]):void c.search(a.searchVal).success(function(b){var c=[];angular.forEach(b,function(a,b){a.is_automated='<span class="glyphicon glyphicon-'+(a.is_automated?"ok":"remove")+'"></span>',a.is_trusted='<span class="glyphicon glyphicon-'+(a.is_trusted?"ok":"remove")+'"></span>',a.is_official='<span class="glyphicon glyphicon-'+(a.is_official?"ok":"remove")+'"></span>',a.description&&a.description.length>10&&(a.description="<span>"+a.description.substr(1,10)+"...</span>"),c.push(a)}),a.imageSearchTableData.data=c})},a.$watch("selectedItem",function(){a.selectedItem&&(a.fromImage=a.selectedItem.name)}),a.Add=function(){if(!a.fromImage)return void e.warning("Repostory cannot be empty.");var b=e.info("","Pulling image, please wait ...",{timeOut:6e7,tapToDismiss:!1,positionClass:"toast-top-center"}),g="";c.create({fromImage:a.fromImage,tag:a.tag},function(a){a&&a.status?g=a.id?"image "+a.id+"is "+a.status:a.status:a&&a.error&&(g=a.error),b.el.find(".toast-message").append("<div>"+g+"</div>")},function(c,g){d.reload(),a.$close(),f(function(){e.remove(b.toastId)},5e3)})},a.close=function(){a.$close()}}]),angular.module("rest",[]),angular.module("rest").factory("imageService",["$injector",function(a){var b=a.get("$http"),c={};return c.index=function(a){return b({method:"GET",url:"/images/json",params:a})},c.show=function(a){return b({method:"GET",url:"/images/"+a.id+"/json"})},c.search=function(a){return b({method:"GET",url:"/images/search?term="+a})},c.create=function(a,b,c){var d=function(a){var d="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e=0;d.open("POST",a,!0),d.setRequestHeader("X-Registy-Auth","base64_encoded_authconfig_object"),d.onreadystatechange=function(){for(var a=d.response||"",f=a.split("\n"),g=f.length,h=e;g>h;h++)f[h]&&b(JSON.parse(f[h]));e=g,4==d.readyState&&c(d.responseText,d.status)},d.send()};return d("/images/create?fromImage="+a.fromImage+"&tag="+a.tag)},c.del=function(a){var c="/images/"+a;return b({method:"DELETE",url:c})},c}]),angular.module("rest").factory("Image",[function(){var a=function(a){a=a||{},this.Architecture=a.Architecture,this.Author=a.Author,this.Comment=a.Comment,this.Config=a.Config,this.Container=a.Container,this.ContainerConfig=a.ContainerConfig,this.Created=a.Created,this.DockerVersion=a.DockerVersion,this.Id=a.Id,this.Os=a.Os,this.Parent=a.Parent,this.Size=a.Size};return a}]),angular.module("rest").factory("ImageSample",[function(){var a=function(a){a=a||{},this.Created=a.Created,this.Id=a.Id,this.ParentId=a.ParentId,this.RepoTags=a.RepoTags,this.Size=a.Size,this.VirtualSize=a.VirtualSize};return a}]),angular.module("rest").factory("containerService",["$injector",function(a){var b=a.get("$http"),c={};return c.index=function(a){return b({method:"GET",url:"/containers/json",params:a})},c.show=function(a){return b({method:"GET",url:"/containers/"+a.id+"/json"})},c.create=function(a,c){return b({method:"POST",data:a,params:c,url:"/containers/create"})},c.action=function(a,c,d){var e="/containers/"+c+"/"+a,d=d;return b({method:"POST",data:d,url:e})},c.del=function(a){var c="/containers/"+a;return b({method:"DELETE",url:c})},c.console=function(a){var c="/console";return b({method:"GET",url:c})},c}]),angular.module("rest").factory("Container",[function(){return Image}]),angular.module("rest").factory("ContainerSample",[function(){var a=function(a){a=a||{},this.Created=a.Created,this.Id=a.Id,this.Command=a.Command,this.Status=a.Status,this.Names=a.Names,this.Ports=a.Ports,this.Size=a.Size,this.VirtualSize=a.VirtualSize};return a}]),angular.module("rest").factory("infoService",["$injector",function(a){var b=a.get("$http"),c={};return c.show=function(){return b({method:"GET",url:"/info"})},c}]),angular.module("table",["ngRoute"]),angular.module("table").directive("commonTable",function(){return{restrict:"E",replace:!0,scope:{tableData:"="},templateUrl:"common/table/templates/table.html",controller:["$scope","$element",function(a,b){var c=!1;a.$parent.selectedItem=null,a.$watch("tableData.data",function(d){return d=a.tableData||{},c?void b.bootstrapTable("load",d.data):(b.bootstrapTable({singleSelect:d.singleSelect||!1,sortName:d.sortName,sortOrder:d.sortOrder||"asc",height:d.height,cache:d.cache||!1,striped:void 0===d.cache?!0:d.cache,pagination:!0,pageSize:10,pageList:[10,20,30],search:void 0===d.search?!0:d.search,showColumns:!0,clickToSelect:!1,checkboxHeader:void 0===d.checkboxHeader?!0:d.checkboxHeader,data:d.data||[],columns:d.columns||[],onCheck:function(b){a.$parent.selectedItem=b,a.$parent.$$phase||a.$parent.$apply()},onUncheck:function(b){a.$parent.selectedItem=null,a.$parent.$$phase||a.$parent.$apply()},onCheckAll:function(a){},onUncheckAll:function(a){}}),void(c=!0))})}]}}),angular.module("dialog",["ngRoute"]),angular.module("dialog").factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(a,b){function c(c,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),c.$on(b.NOW_CLOSING_EVENT,function(b,c){var f=c();a.removeClass(d,e.modalInClass).then(f)}))}return{restrict:"EA",replace:!0,templateUrl:"common/dialog/templates/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),c}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(a,b,c){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"common/dialog/templates/window.html"},link:function(d,e,f){e.addClass(f.windowClass||""),d.size=f.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},d.$isRendered=!0;var g=b.defer();f.$observe("modalRender",function(a){"true"==a&&g.resolve()}),g.promise.then(function(){f.modalInClass&&(c.addClass(e,f.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c.removeClass(e,f.modalInClass).then(d)}));var b=e[0].querySelectorAll("[autofocus]");b.length?b[0].focus():e[0].focus();var g=a.getTop();g&&a.modalRendered(g.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(a,b,c,d,e,f,g){function h(){for(var a=-1,b=p.keys(),c=0;c<b.length;c++)p.get(b[c]).value.backdrop&&(a=c);return a}function i(a,b){var d=c.find("body").eq(0),e=p.get(a).value;p.remove(a),k(e.modalDomEl,e.modalScope,function(){d.toggleClass(o,p.length()>0),j()}),b&&b.focus?b.focus():d.focus()}function j(){if(m&&-1==h()){var a=n;k(m,n,function(){a=null}),m=void 0,n=void 0}}function k(a,b,c){function d(){d.done||(d.done=!0,a.remove(),b.$destroy(),c&&c())}var e,g=null,h=function(){return e||(e=f.defer(),g=e.promise),function(){e.resolve()}};return b.$broadcast(q.NOW_CLOSING_EVENT,h),f.when(g).then(d)}function l(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var m,n,o="modal-open",p=g.createNew(),q={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return e.$watch(h,function(a){n&&(n.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=p.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){q.dismiss(b.key,"escape key press")})))}),q.open=function(a,b){var f=c[0].activeElement;p.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var g=c.find("body").eq(0),i=h();if(i>=0&&!m){n=e.$new(!0),n.index=i;var j=angular.element('<div modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",b.backdropClass),b.animation&&j.attr("modal-animation","true"),m=d(j)(n),g.append(m)}var k=angular.element('<div modal-window="modal-window"></div>');k.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:p.length()-1,animate:"animate"}).html(b.content),b.animation&&k.attr("modal-animation","true");var l=d(k)(b.scope);p.top().value.modalDomEl=l,p.top().value.modalOpener=f,g.append(l),g.addClass(o)},q.close=function(a,b){var c=p.get(a);return c&&l(c,b,!0)?(c.value.deferred.resolve(b),i(a,c.value.modalOpener),!0):!c},q.dismiss=function(a,b){var c=p.get(a);return c&&l(c,b,!1)?(c.value.deferred.reject(b),i(a,c.value.modalOpener),!0):!c},q.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},q.getTop=function(){return p.top()},q.modalRendered=function(a){var b=p.get(a);b&&b.value.renderDeferred.resolve()},q}]).provider("$dialog",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var j={};return j.open=function(b){var e=d.defer(),j=d.defer(),k=d.defer(),l={result:e.promise,opened:j.promise,rendered:k.promise,close:function(a){return g.close(l,a)},dismiss:function(a){return g.dismiss(l,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([h(b)].concat(i(b.resolve)));return m.then(function(a){var d=(b.scope||c).$new();d.$close=l.close,d.$dismiss=l.dismiss;var h,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=l,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),h=f(b.controller,i),b.controllerAs&&(b.bindToController?angular.extend(d,h):d[b.controllerAs]=h)),g.open(l,{scope:d,deferred:e,renderDeferred:k,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),m.then(function(){j.resolve(!0)},function(a){j.reject(a)}),l},j}]};return a}),angular.module("form",["ngRoute"]),angular.module("form").directive("commonForm",function(){return{restrict:"E",replace:!0,scope:{formData:"="},templateUrl:"common/form/templates/form.html",controller:["$scope","$element",function(a,b){a.$watch("formData",function(b){var b=a.formData||{},c={},d={},e={};b.stepIndex=0,angular.forEach(b.panelGroups||[],function(a,b){c[a.slug]={},d[a.slug]={},e[a.slug]={},angular.forEach(a.fields,function(b,f){c[a.slug][b.slug]=!1,"select"===b.type&&b["default"].length?d[a.slug][b.slug]=b["default"][0].value:d[a.slug][b.slug]=b["default"],e[a.slug][b.slug]=b.restrictions})}),a.invalid=c,a.form=d,a.restrict=e}),a.validate=function(a,b){},a.close=function(){a.$parent.$close()},a.stepJump=function(b){a.formData.stepIndex=b},a.Submit=function(){a.formData.handle(a.form)}}]}}),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a){if(a)m(a.toastId);else for(var b=0;b<t.length;b++)m(t[b].toastId)}function i(a,b,c){var d=o().iconClasses.error;return n(d,a,b,c)}function j(a,b,c){var d=o().iconClasses.info;return n(d,a,b,c)}function k(a,b,c){var d=o().iconClasses.success;return n(d,a,b,c)}function l(a,b,c){var d=o().iconClasses.warning;return n(d,a,b,c)}function m(b,c){function d(a){for(var b=0;b<t.length;b++)if(t[b].toastId===a)return t[b]}function e(){return!t.length}var h=d(b);h&&!h.deleting&&(h.deleting=!0,h.isOpened=!1,a.leave(h.el).then(function(){h.scope.options.onHidden&&h.scope.options.onHidden(c),h.scope.$destroy();var a=t.indexOf(h);delete v[h.scope.message],t.splice(a,1);var b=f.maxOpened;b&&t.length>=b&&t[b-1].open.resolve(),e()&&(r.remove(),r=null,w=g.defer())}))}function n(a,b,c,d){return angular.isObject(c)&&(d=c,c=null),q({iconClass:a,message:b,optionsOverride:d,title:c})}function o(){return angular.extend({},f)}function p(b){if(r)return w.promise;r=angular.element("<div></div>"),r.attr("id",b.containerId),r.addClass(b.positionClass),r.css({"pointer-events":"auto"});var c=angular.element(document.querySelector(b.target));if(!c||!c.length)throw"Target for toasts doesn't exist";return a.enter(r,c).then(function(){w.resolve()}),w.promise}function q(c){function f(a,b,c){c.allowHtml?(a.scope.allowHtml=!0,a.scope.title=e.trustAsHtml(b.title),a.scope.message=e.trustAsHtml(b.message)):(a.scope.title=b.title,a.scope.message=b.message),a.scope.toastType=a.iconClass,a.scope.toastId=a.toastId,a.scope.options={extendedTimeOut:c.extendedTimeOut,messageClass:c.messageClass,onHidden:c.onHidden,onShown:c.onShown,progressBar:c.progressBar,tapToDismiss:c.tapToDismiss,timeOut:c.timeOut,titleClass:c.titleClass,toastClass:c.toastClass},c.closeButton&&(a.scope.options.closeHtml=c.closeHtml)}function h(){function a(a){for(var b=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],c=0,d=b.length;d>c;c++)delete a[b[c]];return a}var b={toastId:s++,isOpened:!1,scope:d.$new(),open:g.defer()};return b.iconClass=c.iconClass,c.optionsOverride&&(l=angular.extend(l,a(c.optionsOverride)),b.iconClass=c.optionsOverride.iconClass||b.iconClass),f(b,c,l),b.el=i(b.scope),b}function i(a){var c=angular.element("<div toast></div>"),d=b.get("$compile");return d(c)(a)}function j(){return l.maxOpened&&t.length<=l.maxOpened||!l.maxOpened}function k(){var a=l.preventDuplicates&&c.message===u,b=l.preventOpenDuplicates&&v[c.message];return a||b?!0:(u=c.message,v[c.message]=!0,!1)}var l=o();if(!k()){var n=h();if(t.push(n),l.autoDismiss&&l.maxOpened>0)for(var q=t.slice(0,t.length-l.maxOpened),w=0,x=q.length;x>w;w++)m(q[w].toastId);return j()&&n.open.resolve(),n.open.promise.then(function(){p(l).then(function(){if(n.isOpened=!0,l.newestOnTop)a.enter(n.el,r).then(function(){n.scope.init()});else{var b=r[0].lastChild?angular.element(r[0].lastChild):null;a.enter(n.el,r,b).then(function(){n.scope.init()})}})}),n}}var r,s=0,t=[],u="",v={},w=g.defer(),x={clear:h,error:i,info:j,remove:m,success:k,warning:l};return x}angular.module("toastr",[]).factory("toastr",a),a.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"common/toastr/templates/toastr.html",progressbar:"common/toastr/templates/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function a(a){function b(a,b,c,d){function e(){var a=(h-(new Date).getTime())/g*100;b.css("width",a+"%")}var f,g,h;d.progressBar=a,a.start=function(a){f&&clearInterval(f),g=parseFloat(a),h=(new Date).getTime()+g,f=setInterval(e,10)},a.stop=function(){f&&clearInterval(f)},a.$on("$destroy",function(){clearInterval(f)})}return{replace:!0,require:"^toast",templateUrl:function(){return a.templates.progressbar},link:b}}angular.module("toastr").directive("progressBar",a),a.$inject=["toastrConfig"]}(),function(){"use strict";function a(){this.progressBar=null,this.startProgressBar=function(a){this.progressBar&&this.progressBar.start(a)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",a)}(),function(){"use strict";function a(a,b,c,d){function e(c,e,f,g){function h(a){return g.startProgressBar(a),b(function(){g.stopProgressBar(),d.remove(c.toastId)},a,1)}function i(){c.progressBar=!1,g.stopProgressBar()}function j(){return c.options.closeHtml}var k;if(c.toastClass=c.options.toastClass,c.titleClass=c.options.titleClass,c.messageClass=c.options.messageClass,c.progressBar=c.options.progressBar,j()){var l=angular.element(c.options.closeHtml),m=a.get("$compile");l.addClass("toast-close-button"),l.attr("ng-click","close()"),m(l)(c),e.prepend(l)}c.init=function(){c.options.timeOut&&(k=h(c.options.timeOut)),c.options.onShown&&c.options.onShown()},e.on("mouseenter",function(){i(),k&&b.cancel(k)}),c.tapToast=function(){c.options.tapToDismiss&&c.close(!0)},c.close=function(a){d.remove(c.toastId,a)},e.on("mouseleave",function(){(0!==c.options.timeOut||0!==c.options.extendedTimeOut)&&(c.$apply(function(){c.progressBar=c.options.progressBar}),c.options.tapToDismiss&&(k=h(c.options.extendedTimeOut)))})}return{replace:!0,templateUrl:function(){return c.templates.toast},controller:"ToastController",link:e}}angular.module("toastr").directive("toast",a),a.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("tooltip",["ngRoute"]),angular.module("tooltip").directive("tooltips",function(){return{restrict:"C",scope:{originalTitle:"="},link:function(a,b,c){a.$watch("originalTitle",function(){if(a.originalTitle){var d={title:a.originalTitle||""};c["data-placement"]&&(d.placement=c["data-placement"]),b.tooltip(d)}})}}});